const isDev = process.env.NODE_ENV !== 'production';
const isProd = process.env.NODE_ENV === 'production';

export const config = {
  // ─────────────────────────────────────────────────────────────
  // Server
  // ─────────────────────────────────────────────────────────────
  port: parseInt(process.env.PORT) || 3000,

  // ─────────────────────────────────────────────────────────────
  // Environment
  // ─────────────────────────────────────────────────────────────
  isDev,
  isProd,

  // ─────────────────────────────────────────────────────────────
  // Source maps (only in development)
  // ─────────────────────────────────────────────────────────────
  sourceMaps: isDev,

  // ─────────────────────────────────────────────────────────────
  // Minification (only in production)
  // ─────────────────────────────────────────────────────────────
  minify: {
    html: isProd,
    css: isProd,
    js: isProd,
    images: isProd,
  },

  // ─────────────────────────────────────────────────────────────
  // Images - WebP generation
  // ─────────────────────────────────────────────────────────────
  images: {
    webp: {
      enabled: true,
      quality: 80,
    },
  },

  // ─────────────────────────────────────────────────────────────
  // SVG Sprite
  // ─────────────────────────────────────────────────────────────
  sprite: {
    enabled: true,
  },

  // ─────────────────────────────────────────────────────────────
  // TypeScript support
  // ─────────────────────────────────────────────────────────────
  typescript: {
    enabled: true,
    target: 'es2020',
  },

  // ─────────────────────────────────────────────────────────────
  // JavaScript transpilation (esbuild)
  // ─────────────────────────────────────────────────────────────
  scripts: {
    target: 'es2020',
  },

  // ─────────────────────────────────────────────────────────────
  // Build size report
  // ─────────────────────────────────────────────────────────────
  sizeReport: {
    enabled: true,
    showFiles: true,
    showTotal: true,
    gzip: true,
  },

  // ─────────────────────────────────────────────────────────────
  // SEO files generation
  // ─────────────────────────────────────────────────────────────
  seo: {
    sitemap: {
      enabled: false,
      hostname: 'https://example.com',
    },
    robots: {
      enabled: false,
    },
  },

  // ─────────────────────────────────────────────────────────────
  // HTML processing
  // ─────────────────────────────────────────────────────────────
  html: {
    lazyLoading: {
      enabled: true,
    },
  },
};
